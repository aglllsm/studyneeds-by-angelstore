
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>StudyNeeds by Angel Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Comic Neue', cursive;
      background: #fff0f0;
      margin: 0;
    }
    header {
      background-color: #ff9999;
      padding: 20px;
      text-align: center;
      color: white;
    }
    .container {
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    .item {
      background: white;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    textarea {
      width: 100%;
      padding: 8px;
      margin-top: 10px;
      border-radius: 4px;
    }
    .img-preview-container {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      margin-top: 10px;
    }
    .img-preview {
      max-height: 200px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .save-btn, .upload-btn, .clear-img-btn, .delete-btn, .add-btn {
      margin-top: 10px;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .save-btn { background-color: #ff4d4d; color: white; }
    .upload-btn { background-color: #ffaa00; color: white; }
    .clear-img-btn { background-color: #bb33ff; color: white; }
    .delete-btn { background-color: #999999; color: white; }
    .add-btn { background-color: #4CAF50; color: white; display: block; margin-top: 20px; }
  </style>
</head>
<body>
  <header>
    <h1>StudyNeeds by Angel Store</h1>
    <p>Kelola semua produk jualanmu dengan mudah!</p>
  </header>
  <div class="container">
    <input type="text" id="search" placeholder="Cari produk..." onkeyup="filterItems()" style="width:100%; padding:10px; margin-bottom:20px;">
    <input type="text" id="newProductName" placeholder="Nama produk baru" style="width:100%; padding:10px;">
    <button class="add-btn" onclick="addProduct()">Tambah Produk</button>
    <button class="add-btn" onclick="toggleList()" id="toggleBtn">Tampilkan Semua Produk</button>
    <div id="product-list"></div>
  </div>
<script>
let showAll = false;
let productList = JSON.parse(localStorage.getItem('productList') || '[]');
const defaultProducts = [
  "cek turnitin","cek ai indo & eng","translate file (deepl)","unlock docs","akun chatgpt pro/plus",
  "akun turnitin biasa","akun turnitin cek ai","akun gptzero","akun deepl pro","scite ai","quillbot",
  "duolingo","grammarly","consensus ai","smallpdf","numerade","humata ai","perplexity ai","connected ai",
  "scribd","wps office","gamma ai","canva","picsart","vidio prime","viu","cek nomor gtc","koin line",
  "busuu","blackbox ai"
];

function createItem(name) {
  const id = name.toLowerCase().replace(/[^a-z0-9]/g, "-");
  const div = document.createElement("div");
  div.className = "item";
  div.id = "item-" + id;
  div.setAttribute("data-name", name.toLowerCase());
  div.innerHTML = `
    <h3>${name}</h3>
    <textarea id="harga-${id}" placeholder="(tulis harga di sini)"></textarea>
    <button class="save-btn" onclick="saveData('harga-${id}')">Simpan</button>
    <label class="upload-btn">
      Upload Gambar Harga
      <input type="file" accept="image/*" onchange="uploadImage(event, '${id}-imgs')" style="display: none;">
    </label>
    <button class="clear-img-btn" onclick="clearImages('${id}-imgs')">Hapus Semua Gambar</button>
    <button class="delete-btn" onclick="deleteProduct('${id}')">Hapus Produk</button>
    <div id="${id}-imgs" class="img-preview-container"></div>
  `;
  document.getElementById("product-list").appendChild(div);
}

function saveData(id) {
  const value = document.getElementById(id).value;
  localStorage.setItem(id, value);
}

function uploadImage(event, containerId) {
  const reader = new FileReader();
  reader.onload = function() {
    const base64 = reader.result;
    const img = document.createElement('img');
    img.className = 'img-preview';
    img.src = base64;
    document.getElementById(containerId).appendChild(img);
    let images = JSON.parse(localStorage.getItem(containerId) || '[]');
    images.push(base64);
    localStorage.setItem(containerId, JSON.stringify(images));
  };
  reader.readAsDataURL(event.target.files[0]);
}

function clearImages(id) {
  localStorage.removeItem(id);
  document.getElementById(id).innerHTML = '';
}

function deleteProduct(id) {
  const el = document.getElementById("item-" + id);
  if (el) el.remove();
  localStorage.removeItem("harga-" + id);
  localStorage.removeItem(id + "-imgs");
  productList = productList.filter(p => p !== id);
  localStorage.setItem('productList', JSON.stringify(productList));
}

function loadSaved(id) {
  const harga = localStorage.getItem("harga-" + id);
  if (harga) document.getElementById("harga-" + id).value = harga;
  const images = JSON.parse(localStorage.getItem(id + "-imgs") || "[]");
  const container = document.getElementById(id + "-imgs");
  if (container && images.length) {
    container.innerHTML = '';
    images.forEach(src => {
      const img = document.createElement('img');
      img.className = 'img-preview';
      img.src = src;
      container.appendChild(img);
    });
  }
}

function loadAllSaved() {
  const all = [...new Set([...defaultProducts, ...productList])];
  all.forEach(name => {
    const id = name.toLowerCase().replace(/[^a-z0-9]/g, "-");
    createItem(name);
    loadSaved(id);
  });
  toggleList();
}

function filterItems() {
  const input = document.getElementById("search").value.toLowerCase();
  document.querySelectorAll(".item").forEach(div => {
    const name = div.getAttribute("data-name");
    div.style.display = name.includes(input) ? "" : "none";
  });
}

function addProduct() {
  const name = document.getElementById("newProductName").value.trim();
  if (!name) return;
  const id = name.toLowerCase().replace(/[^a-z0-9]/g, "-");
  if (productList.includes(id)) return alert("Produk sudah ada!");
  productList.push(id);
  localStorage.setItem('productList', JSON.stringify(productList));
  createItem(name);
  loadSaved(id);
}

function toggleList() {
  showAll = !showAll;
  document.querySelectorAll(".item").forEach((item, i) => {
    if (i !== 0) item.style.display = showAll ? '' : 'none';
  });
  document.getElementById("toggleBtn").textContent = showAll ? "Tampilkan Lebih Sedikit" : "Tampilkan Semua Produk";
}

window.onload = loadAllSaved;
</script>
</body>
</html>
